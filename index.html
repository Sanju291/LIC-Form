<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LIC Agent Customer Form ‚Äî Sathi M</title>
  <style>
    :root{
      --accent:#f5b800;
      --brand:#003366;
      --card:#ffffff;
      --muted:#6b7280;
    }
    body{
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
      background:#f3f4f6;
      padding:20px;
    }
    .container{
      max-width: 900px;
      margin: 0 auto;
    }
    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:16px;
    }
    header img{
      height:60px;
    }
    header h1{
      font-size:1.5rem;
      margin:0;
      color:var(--brand);
    }
    .card{
      background:var(--card);
      border-radius:12px;
      box-shadow:0 6px 18px rgba(2,6,23,0.08);
      padding:20px;
      margin-top:16px;
    }
    .grid{
      display:grid;
      gap:12px;
    }
    .cols-2{
      grid-template-columns:1fr 1fr;
    }
    label{
      font-size:0.85rem;
      color:var(--muted);
      display:block;
      margin-bottom:6px;
    }
    input,select,textarea{
      width:100%;
      padding:10px;
      border:1px solid #e6e7ea;
      border-radius:8px;
      font-size:0.95rem;
    }
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    .small{width:120px;}
    .actions{
      display:flex;
      gap:12px;
      justify-content:flex-end;
      margin-top:16px;
    }
    button{
      border:0;
      padding:10px 16px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
    }
    .btn-yellow{background:var(--accent);color:#032;}
    .btn-gray{background:#e5e7eb;color:#111;}
    .note{font-size:0.85rem;color:var(--muted);margin-top:8px;}
    footer{margin-top:20px;font-size:0.85rem;color:var(--muted);}
    .section-title{
      display:flex;
      gap:8px;
      align-items:center;
      margin-bottom:8px;
      font-weight:700;
      color:var(--brand);
      font-size:1.05rem;
    }
    .logo-wrap{display:flex;gap:10px;align-items:center;}
    .dob{display:flex;gap:8px;}
    @media(max-width:720px){.cols-2{grid-template-columns:1fr;} header img{height:48px;}}
    input:invalid{border-color:red;}
  </style>
  <!-- HTML2PDF library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-wrap">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/1d/LIC_logo.svg" alt="LIC Logo">
      </div>
      <h1>LIC Agent Customer Form ‚Äî Sathi M</h1>
    </header>

    <form id="licForm" class="card" autocomplete="off">
      <!-- Personal Details -->
      <section>
        <div class="section-title">üë§ Personal Details</div>
        <div class="grid cols-2">
          <div><label for="name">Name <span style="color:red">*</span></label><input id="name" name="name" type="text" required placeholder="Full Name"></div>
          <div><label for="dob">Date of Birth <span style="color:red">*</span></label><input id="dob" name="dob" type="date" required></div>
          <div><label for="mobile">Mobile Number <span style="color:red">*</span></label><input id="mobile" name="mobile" type="tel" maxlength="10" pattern="\d{10}" placeholder="10-digit mobile"></div>
          <div><label for="email">Email</label><input id="email" name="email" type="email" placeholder="example@gmail.com"></div>
          <div><label for="mode">Mode</label><select id="mode" name="mode"><option value="QTY">QTY</option><option value="MLY">MLY</option><option value="YLY">YLY</option></select></div>
          <div><label for="pan">PAN</label><input id="pan" name="pan" type="text" maxlength="10" style="text-transform:uppercase;" placeholder="ABCDE1234F"></div>
          <div><label for="aadhar">Aadhaar Number <span style="color:red">*</span></label><input id="aadhar" name="aadhar" type="text" maxlength="12" pattern="\d{12}" placeholder="12-digit Aadhaar" required></div>
        </div>
      </section>

      <hr>

      <!-- Family Details -->
      <section>
        <div class="section-title">üë®‚Äçüë©‚Äçüëß Family Details</div>
        <div class="grid cols-2">
          <div><label for="father">Father's Name</label><input id="father" name="father" placeholder="Father's Name"></div>
          <div><label for="mother">Mother's Name</label><input id="mother" name="mother" placeholder="Mother's Name"></div>
          <div><label for="spouse">Spouse's Name</label><input id="spouse" name="spouse"></div>
          <div><label for="spouseIncome">Spouse Job & Income</label>
            <select id="spouseIncome" name="spouseIncome">
              <option value="">Select</option>
              <option value="Salaried">Salaried</option>
              <option value="Business">Business</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div><label for="familyHistory">Family History</label><input id="familyHistory" name="familyHistory"></div>
          <div><label for="fatherAge">Father Age</label><input id="fatherAge" name="fatherAge" type="number" class="small"></div>
          <div><label for="motherAge">Mother Age</label><input id="motherAge" name="motherAge" type="number" class="small"></div>
          <div class="cols-2" style="display:grid;grid-template-columns:1fr 1fr; gap:12px;">
            <div><label for="brotherAge">Brother Age</label><input id="brotherAge" name="brotherAge" type="number"></div>
            <div><label for="sisterAge">Sister Age</label><input id="sisterAge" name="sisterAge" type="number"></div>
            <div><label for="sonAge">Son Age</label><input id="sonAge" name="sonAge" type="number"></div>
            <div><label for="daughterAge">Daughter Age</label><input id="daughterAge" name="daughterAge" type="number"></div>
          </div>
        </div>
      </section>

      <hr>

      <!-- Employment Details -->
      <section>
        <div class="section-title">üè¢ Employment Details</div>
        <div class="grid cols-2">
          <div><label for="job">Job Type</label>
            <select id="job" name="job">
              <option value="">Select</option>
              <option value="Salaried">Salaried</option>
              <option value="Business">Business</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div><label for="qualification">Qualification</label><input id="qualification" name="qualification"></div>
          <div><label for="employer">Employer</label><input id="employer" name="employer"></div>
          <div><label for="income">Income</label><input id="income" name="income" type="text" placeholder="Annual Income"></div>
        </div>
      </section>

      <hr>

      <!-- Address & Bank -->
      <section>
        <div class="section-title">üè† Address & Bank</div>
        <div class="grid">
          <div><label for="address">Address</label><textarea id="address" name="address" rows="2"></textarea></div>
          <div class="cols-2" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:8px;">
            <div><label for="account">Account Number</label><input id="account" name="account"></div>
            <div><label for="ifsc">IFSC Code</label><input id="ifsc" name="ifsc"></div>
          </div>
        </div>
      </section>

      <hr>

      <!-- Physical Details & Nominee -->
      <section>
        <div class="section-title">‚öñÔ∏è Physical Details & Nominee</div>
        <div class="grid cols-2">
          <div><label for="height">Height (cm)</label><input id="height" name="height" type="number"></div>
          <div><label for="weight">Weight (kg)</label><input id="weight" name="weight" type="number"></div>
          <div><label for="nominee">Nominee</label><input id="nominee" name="nominee"></div>
          <div><label for="notes">Additional Notes</label><input id="notes" name="notes"></div>
        </div>
      </section>

      <div class="actions">
        <button type="button" class="btn-yellow" id="generatePdf">üü® Generate PDF</button>
        <button type="button" class="btn-gray" id="resetForm">Reset</button>
      </div>
      <div class="note">All mandatory fields are marked with *</div>
    </form>

    <footer>PDF can be downloaded directly without sending an email.</footer>
  </div>

  <script>
    // ------------------- Reset Form -------------------
    document.getElementById('resetForm').addEventListener('click', ()=>{
      if(confirm("Are you sure you want to clear the form?")){
        document.getElementById('licForm').reset();
      }
    });

    // ------------------- PDF Generation -------------------
    document.getElementById('generatePdf').addEventListener('click', async ()=>{
      const form = document.getElementById('licForm');
      if(!form.checkValidity()){
        alert("Please fill all mandatory fields correctly!");
        form.reportValidity();
        return;
      }

      try{
        const clone = form.cloneNode(true);
        clone.querySelectorAll('.actions').forEach(b=>b.remove());
        const wrapper = document.createElement('div');
        wrapper.style.padding = '18px';
        wrapper.style.fontFamily = 'Arial, Helvetica, sans-serif';
        wrapper.style.color = '#111';

        // Add PDF Header
        const header = document.createElement('div');
        header.innerHTML = `<div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
          <img src="https://upload.wikimedia.org/wikipedia/commons/1/1d/LIC_logo.svg" style="height:50px;">
          <h2 style="margin:0;color:#003366;">LIC Agent Customer Form ‚Äî Sathi M</h2>
        </div>
        <div style="font-size:0.85rem;margin-bottom:12px;">Generated on: ${new Date().toLocaleString()}</div>`;
        wrapper.appendChild(header);
        wrapper.appendChild(clone);

        const opt = {
          margin: 10,
          filename: (document.getElementById('name').value || 'LIC_Form') + '.pdf',
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { scale: 2, useCORS: true },
          jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };

        await html2pdf().from(wrapper).set(opt).save();
        alert('‚úÖ PDF generated and downloaded successfully.');
      }catch(err){
        console.error(err);
        alert('Failed to generate PDF: '+err.message);
      }
    });
  </script>
</body>
</html>
