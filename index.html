<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LIC Customer Data Sheet ‚Äî Sathi M</title>
  <style>
    :root {
      --accent: #f5b800;
      --brand: #003366;
      --card: #ffffff;
      --muted: #6b7280;
    }
    body {
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: #f3f4f6;
      padding: 24px;
      margin: 0;
    }
    .container { max-width: 900px; margin: 0 auto; }
    header { display: flex; align-items: center; gap: 16px; margin-bottom: 12px; }
    header img { height: 56px; width: auto; }
    .adviser-info { font-size: 0.85rem; color: var(--brand); font-style: italic; margin-top: 4px; }
    h1 { font-size: 1.3rem; margin: 0; color: var(--brand); }
    .card { background: var(--card); border-radius: 12px; box-shadow: 0 6px 18px rgba(2,6,23,0.08); padding: 18px; margin-top: 16px; }
    .grid { display: grid; gap: 12px; }
    .cols-2 { grid-template-columns: 1fr 1fr; }
    label { font-size: 0.85rem; color: var(--muted); display: block; margin-bottom: 6px; }
    input, select, textarea { width: 100%; padding: 10px; border: 1px solid #e6e7ea; border-radius: 8px; font-size: 0.95rem; box-sizing: border-box; }
    .row { display: flex; gap: 12px; }
    .small { width: 120px; }
    .actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 14px; }
    button { border: 0; padding: 10px 14px; border-radius: 10px; font-weight: 600; cursor: pointer; }
    .btn-yellow { background: var(--accent); color: #032; }
    .note { font-size: 0.85rem; color: var(--muted); margin-top: 8px; }
    footer { margin-top: 12px; font-size: 0.85rem; color: var(--muted); }
    .section-title { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; font-weight: 700; color: var(--brand); }
    .dob { display: flex; gap: 8px; }
    .document-options { display: flex; gap: 20px; flex-wrap: wrap; align-items: center; margin-top: 8px; }
    .document-options label { display: flex; align-items: center; gap: 6px; font-size: 0.95rem; }
    @media (max-width: 720px) { .cols-2 { grid-template-columns: 1fr; } header img { height: 48px; } }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>
<body>
<div class="container">
  <header>
    <img src="https://www.dailypioneer.com/uploads/2022/story/images/big/lic-should-opt-for--a-rights-issue-2022-11-15.jpg" alt="LIC Logo">
    <div>
      <h1>LIC Customer Data Sheet</h1>
      <div class="adviser-info">Sathi M ‚Äî Insurance Adviser</div>
    </div>
  </header>

  <form id="licForm" class="card" autocomplete="off">
    <!-- Personal Details -->
    <section>
      <div class="section-title">üë§ Personal Details</div>
      <div class="grid cols-2">
        <div><label for="name">Name</label><input id="name" name="name" type="text" required></div>
        <div><label for="dob">Date of Birth</label><input id="dob" name="dob" type="date"></div>
        <div><label for="mobile">Mobile Number</label><input id="mobile" name="mobile" type="tel"></div>
        <div><label for="email">Email</label><input id="email" name="email" type="email"></div>
        <div><label for="mode">Payment Mode</label>
          <select id="mode" name="mode">
            <option selected disabled>Select</option>
            <option value="QTY">QTY</option>
            <option value="MLY">MLY</option>
            <option value="YLY">YLY</option>
          </select>
        </div>
        <div><label for="pan">PAN</label><input id="pan" name="pan" type="text" maxlength="10"></div>
        <div><label for="aadhar">Aadhaar Number</label><input id="aadhar" name="aadhar" type="text" maxlength="12" pattern="\d{12}" title="Enter 12 digit Aadhaar number"></div>
      </div>
    </section>

    <!-- Family Details -->
    <hr style="margin:14px 0;border:none;border-top:1px solid #eef2f6">
    <section>
      <div class="section-title">üë®‚Äçüë©‚Äçüëß Family Details</div>
      <div class="grid cols-2">
        <div><label for="father">Father's Name</label><input id="father" name="father"></div>
        <div><label for="spouse">Spouse's Name</label><input id="spouse" name="spouse"></div>
        <div><label for="spouseIncome">Spouse Job & Income</label><input id="spouseIncome" name="spouseIncome"></div>
        <div><label for="fatherAge">Father Age</label><input id="fatherAge" name="fatherAge" type="number" class="small"></div>
        <div><label for="motherAge">Mother Age</label><input id="motherAge" name="motherAge" type="number" class="small"></div>
      </div>
    </section>

    <!-- Employment Details -->
    <hr style="margin:14px 0;border:none;border-top:1px solid #eef2f6">
    <section>
      <div class="section-title">üè¢ Employment Details</div>
      <div class="grid cols-2">
        <div><label for="job">Job</label><input id="job" name="job"></div>
        <div><label for="qualification">Qualification</label>
          <select id="qualification" name="qualification">
            <option selected disabled>Select</option>
            <option>High School</option>
            <option>Diploma</option>
            <option>Graduate</option>
            <option>Post Graduate</option>
            <option>Other</option>
          </select>
        </div>
        <div><label for="employer">Employer</label><input id="employer" name="employer"></div>
        <div><label for="income">Income</label><input id="income" name="income" type="text"></div>
      </div>
    </section>

    <!-- Address & Bank -->
    <hr style="margin:14px 0;border:none;border-top:1px solid #eef2f6">
    <section>
      <div class="section-title">üè† Address & Bank</div>
      <div class="grid">
        <div><label for="address">Address</label><textarea id="address" name="address" rows="2"></textarea></div>
        <div class="cols-2" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:8px">
          <div><label for="account">Account Number</label><input id="account" name="account" type="number"></div>
          <div><label for="ifsc">IFSC Code</label><input id="ifsc" name="ifsc"></div>
        </div>
      </div>
    </section>

    <!-- Physical & Policy -->
    <hr style="margin:14px 0;border:none;border-top:1px solid #eef2f6">
    <section>
      <div class="section-title">‚öñÔ∏è Physical Details & Policy</div>
      <div class="grid cols-2">
        <div><label for="height">Height (cm)</label><input id="height" name="height" type="number" max="9999" step="0.1"></div>
        <div><label for="weight">Weight (kg)</label><input id="weight" name="weight" type="number" max="99"></div>
        <div><label for="nominee">Nominee</label><input id="nominee" name="nominee"></div>
        <div><label for="policy">Do you have an LIC Policy?</label>
          <select id="policy" name="policy">
            <option selected disabled>Select</option>
            <option>Yes</option>
            <option>No</option>
          </select>
        </div>
        <div><label for="policyNo">Policy Number (if yes)</label><input id="policyNo" name="policyNo"></div>
      </div>
    </section>

    <!-- Document Submission -->
    <hr style="margin:14px 0;border:none;border-top:1px solid #eef2f6">
    <section>
      <div class="section-title">üìé Document Submission</div>
      <div class="document-options">
        <label><input type="checkbox" name="docAadhaar"> Aadhaar Card / PAN</label>
        <label><input type="checkbox" name="docSSLC"> SSLC Certificate</label>
        <label><input type="checkbox" name="docBank"> Bank Account First Page</label>
      </div>
    </section>

    <div class="actions">
      <button type="button" class="btn-yellow" id="generatePdf">üü® Generate PDF & Send Email</button>
    </div>
    <div class="note">Please download the PDF and send to 9946460880.</div>
  </form>
</div>

<script>
  emailjs.init("4kosQtFaQpZ-KrwHy"); // Public Key

  document.getElementById('generatePdf').addEventListener('click', async () => {
    const form = document.getElementById('licForm');

    // 1Ô∏è‚É£ Generate PDF
    const clone = form.cloneNode(true);
    clone.querySelectorAll('.actions').forEach(el => el.remove());
    const wrapper = document.createElement('div');
    wrapper.style.padding = '18px';
    wrapper.style.fontFamily = 'Arial, Helvetica, sans-serif';
    wrapper.style.color = '#111';
    wrapper.appendChild(clone);

    const opt = {
      margin: 10,
      filename: `LIC_DataSheet_${document.getElementById('name').value || 'Name'}.pdf`,
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2, useCORS: true },
      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    try {
      await html2pdf().from(wrapper).set(opt).save();

      // 2Ô∏è‚É£ Send Email via EmailJS
      emailjs.sendForm('service_uwe50x9', 'template_yeal3ns', form)
        .then(function() {
          alert('‚úÖ PDF downloaded and email sent successfully!');
        }, function(error) {
          console.error(error);
          alert('PDF downloaded but email failed: ' + error.text);
        });

    } catch (err) {
      console.error(err);
      alert('Failed to generate PDF: ' + err.message);
    }
  });
</script>
</body>
</html>
